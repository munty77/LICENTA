<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products Page</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link rel="stylesheet" href="style_home.css">
    <link rel="stylesheet" href="style_subnav.css">
</head>
<body>
    <!-- <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-auth.js";
        import {getDatabase, ref, set, get, child} from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js"

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB4QbCtMwmAygKrUaubiIHyHzgHTxYRzxs",
            authDomain: "test-autentificare.firebaseapp.com",
            databaseURL: "https://test-autentificare-default-rtdb.firebaseio.com",
            projectId: "test-autentificare",
            storageBucket: "test-autentificare.appspot.com",
            messagingSenderId: "297047922567",
            appId: "1:297047922567:web:1ec8c6da201fe836c56522"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();


        const img = document.getElementById("prod1").src;
        const denumire = document.getElementById("den").value;
        const pret = document.getElementById("pr").value;

        console.log("Denumire");
        console.log(denumire);
        console.log("Imagine");
        console.log(img);
        console.log("Pret");
        console.log(pret);

        // get(child(dbRef, "Conturi/" + uid + "/ProduseFavorite")).then((snapshot) => {
        //     if(snapshot.exists()){
        //         alert("idk");
        //     }else{
        //         set(ref(db, "Conturi/" + uid + "/ProduseFavorite"),{
        //             Imagine: img,
        //             Denumire: denumire,
        //             Pret: pret
        //         })
        //         .then(() => {
        //             alert("Produsul a fost adaugat la favorite!");
        //         })
        //         .catch((error) => {
        //             alert("Eroare: " + error);
        //         })
        //     }
        // });


        /////**************************/////
        
        const uid = sessionStorage.getItem("uid");
        console.log("UID logat");
        console.log(uid);
        const db = getDatabase();
        const dbRef = ref(db);
        get(child(dbRef, "Conturi/" + uid))
        .then((snapshot) => {
            if (snapshot.exists()) {
                const displayName = snapshot.val().Nume;
                console.log(displayName);
                const username =  snapshot.val().Utilizator;
                console.log(username);
                if(username == ''){
                    const user_db = document.getElementById('user-db');
                    user_db.innerHTML = displayName;
                }else{
                    const user_db = document.getElementById('user-db');
                    user_db.innerHTML = username;
                }
            } else {
                console.log("No data available");
            }
        })
        .catch((error) => {
            console.error(error);
        });
        /////**************************/////

        document.getElementById("signout").addEventListener('click', () => {
            signOut(auth)
            .then(()=>{
                console.log("Utilizatorul a fost deconectat");
                window.location.replace("form_login.html");
            })
            .catch((error)=>{
                console.log(error);
            })
        });
    </script> -->

    <section id="header">
        <a href="form_home.html"><img src="img/home_logo.jpg" class="logo" alt=""></a>
        <div>
            <ul id="navbar">
                <li><a href="form_home.html">Acasa</a></li>
                <li><a class="active" href="form_products.html">Produse</a></li>
                <li><a href="form_about.html">Despre</a></li>
                <li><a href="form_contact.html">Contact</a></li>
                <ul class="subnav">
                    <li><a><i class="fa fa-shopping-bag"></i> <i id="sub-1" class="fa fa-caret-down"></i></a></li>
                    <ul id="drop-1">
                        <li><i class="fas fa-heart"></i></li>
                        <li><a href="form_favorite.html">Produse Favorite</a></li>
                        <li><a href="form_cart.html">Cos cumparaturi</a></li>
                    </ul>
                </ul>
                
                <ul class="subnav">
                    <li><a id="signoutlink" class="nav-link"><i class="fas fa-user"></i> <i id="sub" class="fa fa-caret-down"></i></a></li>
                    <ul id="drop">
                        <li><label id="user-db">-</label></li>
                        <li><a href="form_profile.html">Editare Profil</a></li>
                        <li><a id="signout" href="form_logare.html">Deconectare</a></li>
                    </ul>
                </ul>
                
                <a href="#" id="close"><i class="fas fa-times-circle"></i></a>
            </ul>
        </div>
        <div id="mobile">
            <i id="bar" class="fas fa-bars"></i>
        </div>
    </section>
    <!-- script for responsive menu -->
    <script src="scriptHome.js"></script>
    <script src="scriptSubnav.js"></script>
    
    <section id="header-banner">
        <h1><span>#stayhome</span></h1>
    </section>

    <section id="product1" class="section-p1">
        <p>New Collection</p>
        <div class="pro-container">
            <div class="pro">
                <a id="heart1"><i id="heartA" class="fas fa-heart heart"></i></a>
                <img id="prod1" onclick="action()" src="img/home_tricou1.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5 id="den1">Cartoon Astronaut T-Shirts1</h5>
                    <h4 id="pr1">34<span>lei</span></h4>
                </div>
                <a id="cos1"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart2"><i id="heartB" class="fas fa-heart heart"></i></a>
                <img id="prod2" onclick="action()" src="img/home_bluza2.jfif" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5 id="den2">Cartoon Batman1 T-Shirts</h5>
                    <h4 id="pr2">55<span>lei</span></h4>
                </div>
                <a id="cos2"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart3"><i id="heartC" class="fas fa-heart heart"></i></a>
                <img id="prod3" onclick="action()" src="img/home_bluza1.jfif" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5 id="den3">Cartoon Batman2 T-Shirts</h5>
                    <h4 id="pr3">53<span>lei</span></h4>
                </div>
                <a id="cos3"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart4"><i id="heartD" class="fas fa-heart heart"></i></a>
                <img id="prod4" onclick="action()" src="img/home_tricou2.jfif" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5 id="den4">Cartoon Astronaut T-Shirts2</h5>
                    <h4 id="pr4">28<span>lei</span></h4>
                </div>
                <a id="cos4"><i class="fa fa-shopping-cart cart"></i></a>
            </div>

            <div class="pro">
                <a id="heart5"><i id="heartE" class="fas fa-heart heart"></i></a>
                <img id="prod5" onclick="action()" src="img/products/haine/tshirt4.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr5">34<span>lei</span></h4>
                </div>
                <a id="cos5" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart6"><i id="heartF" class="fas fa-heart heart"></i></a>
                <img id="prod6" onclick="action()" src="img/products/haine/tshirt3.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr6">34<span>lei</span></h4>
                </div>
                <a id="cos6" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart7"><i id="heartG" class="fas fa-heart heart"></i></a>
                <img id="prod7" onclick="action()" src="img/products/haine/tshirt2.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr7">34<span>lei</span></h4>
                </div>
                <a id="cos7" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart8"><i id="heartH" class="fas fa-heart heart"></i></a>
                <img id="prod8" onclick="action()" src="img/products/haine/clothes.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr8">34<span>lei</span></h4>
                </div>
                <a id="cos8" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart9"><i id="heartI" class="fas fa-heart heart"></i></a>
                <img id="prod9" onclick="action()" src="img/products/haine/sweater1.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr9">34<span>lei</span></h4>
                </div>
                <a id="cos9" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart10"><i id="heartJ" class="fas fa-heart heart"></i></a>
                <img id="prod10" onclick="action()" src="img/products/haine/sweater2.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr10">34<span>lei</span></h4>
                </div>
                <a id="cos10" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart11"><i id="heartK" class="fas fa-heart heart"></i></a>
                <img id="prod11" onclick="action()" src="img/products/haine/hat1.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr11">34<span>lei</span></h4>
                </div>
                <a id="cos11" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
            <div class="pro">
                <a id="heart12"><i id="heartL" class="fas fa-heart heart"></i></a>
                <img id="prod12" onclick="action()" src="img/products/haine/hat2.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4 id="pr12">34<span>lei</span></h4>
                </div>
                <a id="cos12" onclick="confirmAction()"><i class="fa fa-shopping-cart cart"></i></a>
            </div>
        </div>
    </section>
    
    <script type = "module">

        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-auth.js";
        import {getDatabase, ref, set, get, child, remove} from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js"

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB4QbCtMwmAygKrUaubiIHyHzgHTxYRzxs",
            authDomain: "test-autentificare.firebaseapp.com",
            databaseURL: "https://test-autentificare-default-rtdb.firebaseio.com",
            projectId: "test-autentificare",
            storageBucket: "test-autentificare.appspot.com",
            messagingSenderId: "297047922567",
            appId: "1:297047922567:web:1ec8c6da201fe836c56522"
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();

        /////**************************/////
        const uid = sessionStorage.getItem("uid");
        console.log("UID logat");
        console.log(uid);
        const db = getDatabase();
        const dbRef = ref(db);

        get(child(dbRef, "Conturi/" + uid))
        .then((snapshot) => {
            if (snapshot.exists()) {
                const displayName = snapshot.val().Nume;
                console.log(displayName);
                const username =  snapshot.val().Utilizator;
                console.log(username);
                if(username == ''){
                    const user_db = document.getElementById('user-db');
                    user_db.innerHTML = displayName;
                }else{
                    const user_db = document.getElementById('user-db');
                    user_db.innerHTML = username;
                }
            } else {
                console.log("No data available");
            }
        })
        .catch((error) => {
            console.error(error);
        });
        /////**************************/////

        document.getElementById("signout").addEventListener('click', () => {
            signOut(auth)
            .then(()=>{
                console.log("Utilizatorul a fost deconectat");
                window.location.replace("form_login.html");
            })
            .catch((error)=>{
                console.log(error);
            })
        });

        const heart1 = document.getElementById('heart1');
        const heartA = document.getElementById('heartA');
        const heart2 = document.getElementById('heart2');
        const heartB = document.getElementById('heartB');
        const heart3 = document.getElementById('heart3');
        const heartC = document.getElementById('heartC');
        const heart4 = document.getElementById('heart4');
        const heartD = document.getElementById('heartD');

        const heart5 = document.getElementById('heart5');
        const heartE = document.getElementById('heartE');
        const heart6 = document.getElementById('heart6');
        const heartF = document.getElementById('heartF');
        const heart7 = document.getElementById('heart7');
        const heartG = document.getElementById('heartG');
        const heart8 = document.getElementById('heart8');
        const heartH = document.getElementById('heartH');

        const heart9 = document.getElementById('heart9');
        const heartI = document.getElementById('heartI');
        const heart10 = document.getElementById('heart10');
        const heartJ = document.getElementById('heartJ');
        const heart11 = document.getElementById('heart11');
        const heartK = document.getElementById('heartK');
        const heart12 = document.getElementById('heart12');
        const heartL = document.getElementById('heartL');


        if(heart1){
            heart1.addEventListener('click', () => {
                if(heartA.classList.contains("inactiveHeart") === true){
                    heartA.classList.remove("inactiveHeart");
                    heartA.classList.add("activeHeart");
                    get(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart1")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Produse Favorite.");
                        }else{
                            set(ref(db, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart1"),{
                                Imagine: document.getElementById("prod1").getAttribute("src"),
                                Denumire: document.getElementById("den1").innerHTML,
                                Pret: document.getElementById("pr1").innerHTML
                            })
                            .then(() => {
                                alert("Produsul a fost adaugat la favorite!");
                            })
                            .catch((error) => {
                                alert("Eroare: " + error);
                            })
                        }
                    });
                }
                else{
                    heartA.classList.add("inactiveHeart");
                    remove(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart1"))
                    .then(() => {
                        alert("Produsul a fost sters de la favorite!");
                    })
                    .catch((error) => {
                        alert("Eroare: " + error);
                    })
                }
            });
                
        }
        if(heart2){
            heart2.addEventListener('click', () => {
                if(heartB.classList.contains("inactiveHeart") === true){
                    heartB.classList.remove("inactiveHeart");
                    heartB.classList.add("activeHeart");
                    get(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart2")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Produse Favorite.");
                        }else{
                            set(ref(db, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart2"),{
                                Imagine: document.getElementById("prod2").src,
                                Denumire: document.getElementById("den2").innerHTML,
                                Pret: document.getElementById("pr2").innerHTML
                            })
                            .then(() => {
                                alert("Produsul a fost adaugat la favorite!");
                            })
                            .catch((error) => {
                                alert("Eroare: " + error);
                            })
                        }
                    });
                }
                else{
                    heartB.classList.add("inactiveHeart");
                    remove(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart2"))
                    .then(() => {
                        alert("Produsul a fost sters de la favorite!");
                    })
                    .catch((error) => {
                        alert("Eroare: " + error);
                    })
                } 
            })
        }
        if(heart3){
            heart3.addEventListener('click', () => {
                if(heartC.classList.contains("inactiveHeart") === true){
                    heartC.classList.remove("inactiveHeart");
                    heartC.classList.add("activeHeart");
                    get(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart3")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Produse Favorite.");
                        }else{
                            set(ref(db, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart3"),{
                                Imagine: document.getElementById("prod3").src,
                                Denumire: document.getElementById("den3").innerHTML,
                                Pret: document.getElementById("pr3").innerHTML
                            })
                            .then(() => {
                                alert("Produsul a fost adaugat la favorite!");
                            })
                            .catch((error) => {
                                alert("Eroare: " + error);
                            })
                        }
                    });
                }
                else{
                    heartC.classList.add("inactiveHeart");
                    remove(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart3"))
                    .then(() => {
                        alert("Produsul a fost sters de la favorite!");
                    })
                    .catch((error) => {
                        alert("Eroare: " + error);
                    })
                } 
            })
        }
        if(heart4){
            heart4.addEventListener('click', () => {
                if(heartD.classList.contains("inactiveHeart") === true){
                    heartD.classList.remove("inactiveHeart");
                    heartD.classList.add("activeHeart");
                    get(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart4")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Produse Favorite.");
                        }else{
                            set(ref(db, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart4"),{
                                Imagine: document.getElementById("prod4").src,
                                Denumire: document.getElementById("den4").innerHTML,
                                Pret: document.getElementById("pr4").innerHTML
                            })
                            .then(() => {
                                alert("Produsul a fost adaugat la favorite!");
                            })
                            .catch((error) => {
                                alert("Eroare: " + error);
                            })
                        }
                    });
                }
                else{
                    heartD.classList.add("inactiveHeart");
                    remove(child(dbRef, "Conturi/" + uid + "/ProduseFavorite" + "/prod-heart4"))
                    .then(() => {
                        alert("Produsul a fost sters de la favorite!");
                    })
                    .catch((error) => {
                        alert("Eroare: " + error);
                    })
                } 
            })
        }

        if(heart5){
            heart5.addEventListener('click', () => {
                if(heartE.classList.contains("inactiveHeart") === true){
                    heartE.classList.remove("inactiveHeart");
                    heartE.classList.add("activeHeart");
                }
                else{
                    heartE.classList.add("inactiveHeart");
                } 
            })
        }
        if(heart6){
            heart6.addEventListener('click', () => {
                if(heartF.classList.contains("inactiveHeart") === true){
                    heartF.classList.remove("inactiveHeart");
                    heartF.classList.add("activeHeart");
                }
                else{
                    heartF.classList.add("inactiveHeart");
                } 
            })
        }
        if(heart7){
            heart7.addEventListener('click', () => {
                if(heartG.classList.contains("inactiveHeart") === true){
                    heartG.classList.remove("inactiveHeart");
                    heartG.classList.add("activeHeart");
                }
                else{
                    heartG.classList.add("inactiveHeart");
                } 
            })
        }
        if(heart8){
            heart8.addEventListener('click', () => {
                if(heartH.classList.contains("inactiveHeart") === true){
                    heartH.classList.remove("inactiveHeart");
                    heartH.classList.add("activeHeart");
                }
                else{
                    heartH.classList.add("inactiveHeart");
                } 
            })
        }

        if(heart9){
            heart9.addEventListener('click', () => {
                if(heartI.classList.contains("inactiveHeart") === true){
                    heartI.classList.remove("inactiveHeart");
                    heartI.classList.add("activeHeart");
                }
                else{
                    heartI.classList.add("inactiveHeart");
                } 
            })
        }
        if(heart10){
            heart10.addEventListener('click', () => {
                if(heartJ.classList.contains("inactiveHeart") === true){
                    heartJ.classList.remove("inactiveHeart");
                    heartJ.classList.add("activeHeart");
                }
                else{
                    heartJ.classList.add("inactiveHeart");
                } 
            })
        }
        if(heart11){
            heart11.addEventListener('click', () => {
                if(heartK.classList.contains("inactiveHeart") === true){
                    heartK.classList.remove("inactiveHeart");
                    heartK.classList.add("activeHeart");
                }
                else{
                    heartK.classList.add("inactiveHeart");
                } 
            })
        }
        if(heart12){
            heart12.addEventListener('click', () => {
                if(heartL.classList.contains("inactiveHeart") === true){
                    heartL.classList.remove("inactiveHeart");
                    heartL.classList.add("activeHeart");
                }
                else{
                    heartL.classList.add("inactiveHeart");
                } 
            })
        }



        const cos1 = document.getElementById('cos1');
        const cos2 = document.getElementById('cos2');
        const cos3 = document.getElementById('cos3');
        const cos4 = document.getElementById('cos4');
        const cos5 = document.getElementById('cos5');
        const cos6 = document.getElementById('cos6');
        const cos7 = document.getElementById('cos7');
        const cos8 = document.getElementById('cos8');
        const cos9 = document.getElementById('cos9');
        const cos10 = document.getElementById('cos10');
        const cos11 = document.getElementById('cos11');
        const cos12 = document.getElementById('cos12');
        

        if(cos1){
            cos1.addEventListener('click', () => {
                    get(child(dbRef, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos1")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Cosul de Cumparaturi.");
                        }else{
                            var confirmAction = confirm("Sunteti sigur ca doriti sa adaugati produsul in cosul de cumparaturi?");
                            var confirmAction2 = confirm("Doriti sa vizualizati cosul de cumparaturi?");
                            if (confirmAction) {
                                set(ref(db, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos1"),{
                                    Imagine: document.getElementById("prod1").src,
                                    Denumire: document.getElementById("den1").innerHTML,
                                    Pret: document.getElementById("pr1").innerHTML
                                })
                                .then(() => {
                                    alert("Produsul a fost adaugat in cosul de cumparaturi!");
                                })
                                .catch((error) => {
                                    alert("Eroare: " + error);
                                })
                                if(confirmAction2){
                                    window.location.href = "form_cart.html";
                                }
                            }
                        }
                    });
            });      
        }
        if(cos2){
            cos2.addEventListener('click', () => {
                    get(child(dbRef, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos2")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Cosul de Cumparaturi.");
                        }else{
                            var confirmAction = confirm("Sunteti sigur ca doriti sa adaugati produsul in cosul de cumparaturi?");
                            var confirmAction2 = confirm("Doriti sa vizualizati cosul de cumparaturi?");
                            if (confirmAction) {
                                set(ref(db, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos2"),{
                                    Imagine: document.getElementById("prod2").src,
                                    Denumire: document.getElementById("den2").innerHTML,
                                    Pret: document.getElementById("pr2").innerHTML
                                })
                                .then(() => {
                                    alert("Produsul a fost adaugat in cosul de cumparaturi!");
                                    if(confirmAction2){
                                    window.location.href = "form_cart.html";
                                }
                                })
                                .catch((error) => {
                                    alert("Eroare: " + error);
                                })
                            }
                        }
                    });
            });      
        }
        if(cos3){
            cos3.addEventListener('click', () => {
                    get(child(dbRef, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos3")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Cosul de Cumparaturi.");
                        }else{
                            var confirmAction = confirm("Sunteti sigur ca doriti sa adaugati produsul in cosul de cumparaturi?");
                            var confirmAction2 = confirm("Doriti sa vizualizati cosul de cumparaturi?");
                            if (confirmAction) {
                                set(ref(db, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos3"),{
                                    Imagine: document.getElementById("prod3").src,
                                    Denumire: document.getElementById("den3").innerHTML,
                                    Pret: document.getElementById("pr3").innerHTML
                                })
                                .then(() => {
                                    alert("Produsul a fost adaugat in cosul de cumparaturi!");
                                })
                                .catch((error) => {
                                    alert("Eroare: " + error);
                                })
                                if(confirmAction2){
                                    window.location.href = "form_cart.html";
                                }
                            }
                        }
                    });
            });      
        }
        if(cos4){
            cos4.addEventListener('click', () => {
                    get(child(dbRef, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos4")).then((snapshot) => {
                        if(snapshot.exists()){
                            alert("Produsul exista deja in Cosul de Cumparaturi.");
                        }else{
                            var confirmAction = confirm("Sunteti sigur ca doriti sa adaugati produsul in cosul de cumparaturi?");
                            var confirmAction2 = confirm("Doriti sa vizualizati cosul de cumparaturi?");
                            if (confirmAction) {
                                set(ref(db, "Conturi/" + uid + "/CosCumparaturi" + "/prod-cos4"),{
                                    Imagine: document.getElementById("prod4").src,
                                    Denumire: document.getElementById("den4").innerHTML,
                                    Pret: document.getElementById("pr4").innerHTML
                                })
                                .then(() => {
                                    alert("Produsul a fost adaugat in cosul de cumparaturi!");
                                })
                                .catch((error) => {
                                    alert("Eroare: " + error);
                                })
                                if(confirmAction2){
                                    window.location.href = "form_cart.html";
                                }
                            }
                        }
                    });
            });      
        }
    
    </script>

    <script>
        // The function below will start the confirmation dialog
        function confirmAction() {
            let confirmAction = confirm("Sunteti sigur ca doriti sa adaugati produsul in cosul de cumparaturi?");
            let confirmAction2 = confirm("Doriti sa vizualizati cosul de cumparaturi?");
            if (confirmAction) {
                if(confirmAction2){
                    window.location.href = "form_cart.html";
                }
          }
        }

        function action() {
            window.location.href = "form_details.html";
        }
    </script>

    <footer class="section-p1">
        <div class="col">
            <img class="logof" src="img/home_logo.jpg" alt="">
            <p>I was sad but then I bought something online.<br>I feel better now.</p>
            <h4>Follow Us</h4>
            <div class="icon">
                <a href="https://www.facebook.com/"><i class="fab fa-facebook fb"></i></a>
                <a href="https://www.instagram.com/"><i class="fab fa-instagram ig"></i></a>
                <a href="https://www.snapchat.com/"><i class="fab fa-snapchat sc"></i></a>
                <a href="https://twitter.com/?lang=ro"><i class="fab fa-twitter tw"></i></a>
            </div>
        </div>
    </footer>
</body>
</html>